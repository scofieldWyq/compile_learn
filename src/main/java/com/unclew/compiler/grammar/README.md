### 语法分析

> 完成了 `词法分析` 之后，解析来的就是语法分析阶段了

**语法分析，主要解决的问题是 Token 是否符合我们设定的语法结构**

#### 依赖

> 依赖词法分析的 `Token` 序列

#### 分析之前的准备

**1. 定义语法规则(`文法规则`)**

> 定义好我们自己的语法规则，然后根据这个语法规则进行解析，生成 `AST`

```bash
add := mul | add + mul
mul := pri | mul * pri
pri := int | Digit | (add)
```
**2. 一般情况下，需要解决一下 `如何消除左递归`**

> 消除左递归，让语法处理的方式不会出现无限循环

```bash
add := add + mul | mul

# 等价转换
add := mul Add
Add := + mul Add | e

# 等价转换原理
A := Ab | c

# 左递归来说，会一直出现
# A := Ab -> A := Abb -> A := Abbb -> ... -> cbbbbbbbbbbb*
# 所以 A 如果结束的话，就会变成
#
#   c{b}*
#
# 令
#   A := cA'
#   A' := bA'|e
#
# A' -> bbA' -> bbbA' -> ... -> bbb*
# A -> cA' -> cbA' -> cbbA' -> ... -> c{b}*
#
# 从上面的推导来说得出的结论是
#   A := Ab|c
# 和
#   A := cA'
#   A' := bA'|e
# 是**等价**的。
#
# 这个是可以变成通用形式的，就是 `左递归` 到 `右递归` 的变换
```

**3. 解决左递归的问题之后，如何处理结合性的问题**

> 很多时候我们的表达式都是左递归现象，但是左递归变成右递归的时候，往往也会在使用递归下降算法的时候，会一直出现
> 结合性的问题，因为左递归变成了右递归之后，我们在处理 AST 的时候，处理的顺序就会变成了了从右边向左边的处理过程，
> 这样就把 左规则处理变成了右规则处理，结合性就出问题了。
>

`面对这样的问题，一般都是尾递归的形式，消除尾递归，恢复结合性的正确性就好了`。

#### 语法分析结果

> 语法分析完之后，我们会得到一个 `AST`(抽象语法树)。